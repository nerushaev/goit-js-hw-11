function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},r={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in o)return o[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return o[e]=a,t.call(a.exports,a,a.exports),a.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){r[e]=t},t.parcelRequired7c6=a);var n=a("eWCmQ"),s=a("2shzp"),i=a("kEUo3");a("fZKcF");var d=a("krGWQ"),l=a("8xxV0"),c=new SimpleLightbox(".gallery a",{captionsData:"alt",captionDelay:250});const f={page:1,per_page:40,q:""};async function u(){const t=new URLSearchParams({...f,image_type:"photo",orientation:"horizontal",pretty:!0,key:d.api.KEY});try{const r=await e(s).get(`${d.api.BASE_URL}?${t}`),a=r.data.hits.length,i=r.data.totalHits;if(0===a)return void e(n).Notify.failure("Sorry, there are no images matching your search query. Please try again.");1===f.page&&e(n).Notify.success(`Hooray! We found ${i} images.`),o=r.data.hits,d.refs.gallery.insertAdjacentHTML("beforeend",(0,l.markUpGallery)(o)),c.refresh(),d.refs.buttonLoadMore.classList.remove("is-hidden"),d.refs.outputPagesLoad.textContent=`${(f.page-1)*f.per_page+a} of ${i}`,f.page*f.per_page>=i&&(d.refs.buttonLoadMore.classList.add("is-hidden"),e(n).Notify.warning("We're sorry, but you've reached the end of search results."))}catch(e){console.log(e.response.status)}var o}d.refs.form.addEventListener("submit",(function(e){e.preventDefault(),f.page=1,f.q=e.currentTarget.elements.searchQuery.value,d.refs.gallery.innerHTML="",d.refs.outputPagesLoad.textContent="",d.refs.buttonLoadMore.classList.add("is-hidden"),u()})),d.refs.buttonLoadMore.addEventListener("click",(function(){f.page++,u()})),window.addEventListener("scroll",(0,i.throttle)((function(){const e=d.refs.buttonPageTop.classList.contains("is-hidden"),t=window.scrollY>=3*window.innerHeight;t&e&&d.refs.buttonPageTop.classList.remove("is-hidden");!t&!e&&d.refs.buttonPageTop.classList.add("is-hidden")}),500)),d.refs.buttonPageTop.addEventListener("click",(function(){window.scroll({top:0,behavior:"smooth"})}));
//# sourceMappingURL=task-1.9a2bd1e6.js.map
